{% extends "base.html" %}

{% block content %}
<form action="/buscar" method="GET">
    <label>Título de la película</label>
    <input
        type="text"
        id="titulo"
        name="t" 
        placeholder="Ingrese aqui el título" required
        value="{{ dataForm.get('titulo', '') }}"
    >

    <label for="anno">Anno de la película</label>
    <input 
        type="number"
        id="anno"
        name="y" 
        placeholder="Ingrese aqui el anno"
        value="{{dataForm.get('anno', '') }}"
        >

    <input
    type="submit"
    value="{{ button }}"
    >
    </form>

    {% if lista_peliculas %}
    <hr>
    <h3>Resultados de la búsqueda:</h3>
        {% for peli in lista_peliculas %}
        <!--padding sive para que no se amontonen las imagenes con el texto-->
        <article style="padding: 10px;">
            <header style="padding: 5px;">
                <small>{{ peli.Title }} ({{ peli.Year }})</small>
            </header>
            
            {% if peli.Poster != "N/A" %}
                <img src="{{ peli.Poster }}" alt="Poster" class="poster">
            {% else %}
                <h4>Sin Imagen</h4>

            {% endif %}

            <footer>
                <a href="/detalle/{{ peli.imdbID }}" role="button" class=" boton">Ver Detalles</a>
            </footer>
        </article>
        {% endfor %}
    </div>
{% endif %}

            {% if error %}
<!--Aquí va la targeta con el mensaje de error, está llamado desde routes.py y el estilo desde la carpeta css-->
            <p class="mensaje_error">
                {{ error }}
            </p>
            {% endif %}
        
    {% endblock %}